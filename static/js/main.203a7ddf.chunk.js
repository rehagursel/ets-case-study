(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var c=n(19),a=Object(c.b)({name:"list",initialState:{hotelsList:[],deleteHotelName:[]},reducers:{addHotelToList:function(e,t){var n,c=t.payload;e.hotelsList.find((function(e){return e.name===c.name}))||e.hotelsList.push({id:c.name,score:+c.score,name:c.name,src:"https://www.etstur.com/resources_t/img/hotel/default_image.png",editTime:c.editTime,logTime:c.logTime}),null===(n=e.hotelsList)||void 0===n||n.sort((function(e,t){return e.logTime<t.logTime?1:t.logTime<e.logTime?-1:0}))},editHotelAtTheList:function(e,t){var n=t.payload,c=e.hotelsList.find((function(e){return e.name===n.name}));c.score=+n.score,c.editTime=n.editTime},removeHotelFromList:function(e,t){var n=t.payload;e.hotelsList=e.hotelsList.filter((function(e){return e.name!==n}))},saveHotelName:function(e,t){var n=t.payload;e.deleteHotelName=n}}}),i=a.actions;t.a=a},function(e,t,n){"use strict";var c=n(39),a=n.n(c),i=n(1);t.a=function(e){return Object(i.jsx)("button",{className:a.a["".concat(e.className)],type:e.type||"button",onClick:e.onClick,disabled:e.disabled,children:e.children})}},,function(e,t,n){e.exports={header:"MainNavigation_header__pcWBd",logo:"MainNavigation_logo__3mTft",bold:"MainNavigation_bold__134On",lighter:"MainNavigation_lighter__Hf5Q0",nav:"MainNavigation_nav__2KJfX",active:"MainNavigation_active__oN3Ka"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var c=n(19),a=Object(c.b)({name:"sort",initialState:{sortIsScore:!1},reducers:{sort:function(e,t){var n=t.payload;e.sortIsScore=n}}}),i=a.actions;t.a=a},function(e,t,n){e.exports={item:"HotelItem_item__39osi",cover:"HotelItem_cover__1tiAa",infoBox:"HotelItem_infoBox__3FuBJ",hotelName:"HotelItem_hotelName__43LTa",score:"HotelItem_score__1q-Gr",deleteBtn:"HotelItem_deleteBtn__2njJ4"}},,function(e,t,n){"use strict";var c=n(21),a=n(34),i=n(40),o=n(4),s=n(0);function r(e,t){return"SEND"===t.type?{data:null,error:null,status:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,status:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,status:"error"}:e}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(s.useReducer)(r,{status:t?"pending":null,data:null,error:null}),l=Object(o.a)(n,2),u=l[0],d=l[1],j=Object(s.useCallback)(function(){var t=Object(i.a)(Object(a.a)().mark((function t(n){var c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d({type:"SEND"}),t.prev=1,t.next=4,e(n);case 4:c=t.sent,d({type:"SUCCESS",responseData:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),d({type:"ERROR",errorMessage:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(c.a)({sendRequest:j},u)}},function(e,t,n){"use strict";function c(){var e=[];return Object.keys(localStorage).forEach((function(t){var n=localStorage.getItem(t);e.unshift(JSON.parse(n))})),e}function a(e){return localStorage.setItem(e.name,JSON.stringify({key:e.name,id:e.name,score:e.score,name:e.name,src:"https://www.etstur.com/resources_t/img/hotel/default_image.png",editTime:e.editTime,logTime:e.logTime})),null}function i(e){if(Object.keys(localStorage).includes(e.name))throw new Error("Bu otel listede mevcut");return localStorage.setItem(e.name,JSON.stringify({key:e.name,id:e.name,score:e.score,name:e.name,src:"https://www.etstur.com/resources_t/img/hotel/default_image.png",editTime:e.editTime,logTime:e.logTime})),null}function o(e){return localStorage.removeItem(e),null}n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o}))},,,,,,function(e,t,n){e.exports={paginationDiv:"Pagination_paginationDiv__yCnjf",pagination:"Pagination_pagination__1Z03K",pageLink:"Pagination_pageLink__1MeeL"}},,,function(e,t,n){e.exports={list:"HotelsList_list__EoyAZ",sorting:"HotelsList_sorting__1ZcgP",addButton:"HotelsList_addButton__2yGbe"}},function(e,t,n){e.exports={backdrop:"Modal_backdrop__1mfF6",modal:"Modal_modal__4DXUe","slide-down":"Modal_slide-down__W3MdX",content:"Modal_content__3zUnK"}},function(e,t,n){e.exports={deleteModal:"HotelDeleteModal_deleteModal__riEBa",deleteModalMain:"HotelDeleteModal_deleteModalMain__oTR36",actionButtons:"HotelDeleteModal_actionButtons__1s7Hk"}},,,,,,function(e,t,n){"use strict";var c=n(42),a=n.n(c),i=n(1);t.a=function(){return Object(i.jsx)("div",{className:a.a.spinner})}},,,,function(e,t,n){e.exports={increment:"Button_increment__2zaHA",decrement:"Button_decrement__3Omjk",add:"Button_add__1JMLN",addConfirm:"Button_addConfirm__1MPZG",deleteHotelBtn:"Button_deleteHotelBtn__2uLNn",deleteHotelBtnConfirm:"Button_deleteHotelBtnConfirm__3xPre",cancelBtn:"Button_cancelBtn__1lpMD",delete:"Button_delete__2V5ee",quit:"Button_quit__3nqPD"}},,,function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__2Kyqv"}},function(e,t,n){e.exports={main:"Layout_main__auk_r"}},,,,,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(36),a=n.n(c),i=n(12),o=n(5),s=n(19),r=n(14),l=n(10),u=Object(s.a)({reducer:{sort:r.a.reducer,list:l.a.reducer}}),d=(n(56),n(4)),j=n(0),m=n.n(j),b=n(3),h=n(26),O=n(11),f=n(17),_=n(18),p=n(15),x=n.n(p),g=n(1),v=function(e){var t=Object(j.useState)(+e.score),n=Object(d.a)(t,2),c=n[0],a=n[1],i=Object(j.useState)(!1),s=Object(d.a)(i,2),u=s[0],m=s[1],b=Object(o.c)((function(e){return e.sort.sortIsScore})),h=Object(f.a)(_.b),p=h.sendRequest,v=h.status,N=Object(o.b)(),S=new Date;Object(j.useEffect)((function(){b&&p({name:e.name,score:c,editTime:Date.parse(S),logTime:e.logTime})}),[c]),Object(j.useEffect)((function(){"completed"===v&&N(l.b.editHotelAtTheList({name:e.name,score:c,editTime:Date.parse(S)}))}),[v,c]);return Object(g.jsx)("li",{className:x.a.item,children:Object(g.jsxs)("div",{onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)},className:x.a.cover,children:[Object(g.jsx)("img",{src:e.src,alt:"hotel-cover"}),Object(g.jsxs)("div",{className:x.a.infoBox,children:[Object(g.jsx)("h1",{className:x.a.hotelName,children:e.name}),Object(g.jsxs)("p",{className:x.a.score,children:[c," Puan"]}),Object(g.jsx)(O.a,{className:"increment",type:"button",onClick:function(){c<10&&a((function(e){return+(e+.1).toFixed(1)})),N(r.b.sort(!0))},children:"PUAN ARTIR"}),Object(g.jsx)(O.a,{className:"decrement",type:"button",onClick:function(){c>.1&&a((function(e){return+(e-.1).toFixed(1)})),N(r.b.sort(!0))},children:"PUAN AZALT"})]}),Object(g.jsx)("div",{className:x.a.deleteBtn,children:u&&Object(g.jsx)(O.a,{className:"delete",type:"button",onClick:function(){N(l.b.saveHotelName(e.name)),e.onClick()},children:"\u2715"})})]})})},N=n(24),S=n.n(N),T=function(e){for(var t=e.hotelsPerPage,n=e.totalHotels,c=e.paginate,a=[],i=1;i<=Math.ceil(n/t);i++)a.push(i);return Object(g.jsx)("div",{className:S.a.paginationDiv,children:Object(g.jsx)("nav",{children:Object(g.jsxs)("ul",{className:S.a.pagination,children:[Object(g.jsx)("span",{children:Object(g.jsx)("i",{className:"arrow left"})}),a.map((function(e){return Object(g.jsx)("li",{className:S.a.pageItem,children:Object(g.jsx)("button",{className:S.a.pageLink,onClick:function(){return c(e)},children:e})},e)})),Object(g.jsx)("span",{children:Object(g.jsx)("i",{className:"arrow right"})})]})})})},k=n(27),M=n.n(k),y=function(e){var t=e.hotels,n=e.onClick,c=Object(j.useState)(!1),a=Object(d.a)(c,2),s=a[0],l=a[1],u=Object(j.useState)(5),b=Object(d.a)(u,1)[0],h=Object(j.useState)(1),O=Object(d.a)(h,2),f=O[0],_=O[1],p=f*b,x=p-b,N=Object(j.useState)(!1),S=Object(d.a)(N,2),k=S[0],y=S[1],B=Object(o.c)((function(e){return e.sort.sortIsScore})),H=Object(o.b)();var C=t;B&&(C=function(e){return null===e||void 0===e?void 0:e.sort((function(e,t){return e.score>t.score?1:e.score<t.score?-1:e.editTime>t.editTime?1:e.editTime<t.editTime?-1:0}))}(t)),s&&(C=function(e,t){return null===e||void 0===e?void 0:e.sort((function(e,n){return t?+e.score<+n.score?1:-1:+e.score>+n.score?1:-1}))}(t,k));var L=C.slice(x,p);return Object(g.jsxs)(m.a.Fragment,{children:[Object(g.jsxs)("div",{className:M.a.addButton,children:[Object(g.jsx)(i.b,{to:"/new-hotel",className:"addBtn",children:"+"}),Object(g.jsx)("p",{children:"OTEL EKLE"})]}),Object(g.jsx)("div",{className:M.a.sorting,children:Object(g.jsxs)("button",{onClick:function(){H(r.b.sort(!1)),y((function(e){return!e})),l(!0)},children:["Sort ",k?"Ascending":"Descending"]})}),Object(g.jsx)("ul",{className:M.a.list,children:L.map((function(e){return Object(g.jsx)(v,{id:e.id,name:e.name,score:+e.score,logTime:e.logTime,src:e.src,onClick:n},e.id)}))}),Object(g.jsx)(T,{hotelsPerPage:b,totalHotels:C.length,paginate:function(e){_(e)}})]})},B=n(35),H=m.a.lazy((function(){return n.e(4).then(n.bind(null,67))})),C=function(e){var t=Object(o.c)((function(e){return e.list.hotelsList})),n=Object(o.b)(),c=Object(f.a)(_.c,!0),a=c.sendRequest,i=c.status,s=c.data;if(Object(j.useEffect)((function(){a()}),[]),Object(j.useEffect)((function(){null===s||void 0===s||s.forEach((function(e){return n(l.b.addHotelToList(e))}))}),[s]),"pending"===i)return Object(g.jsx)("div",{className:"centered",children:Object(g.jsx)(B.a,{})});if("completed"===i&&0===s.length)return Object(g.jsx)(H,{});var r=Object(h.a)(t);return Object(g.jsx)(m.a.Fragment,{children:Object(g.jsx)(y,{hotels:r,onClick:e.onShowModal})})},L=n(13),w=n.n(L),E=function(){return Object(g.jsxs)("header",{className:w.a.header,children:[Object(g.jsxs)("div",{className:w.a.logo,children:[Object(g.jsx)("span",{className:w.a.bold,children:"ets"}),Object(g.jsx)("span",{className:w.a.lighter,children:"tur"})]}),Object(g.jsx)("nav",{className:w.a.nav,children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(i.c,{to:"/hotels-list",activeClassName:w.a.active,children:"Oteller"})}),Object(g.jsx)("li",{children:Object(g.jsx)(i.c,{to:"/new-hotel",activeClassName:w.a.active,children:"Yeni Otel Ekle"})})]})})]})},I=n(43),D=n.n(I),P=function(e){return Object(g.jsxs)(m.a.Fragment,{children:[Object(g.jsx)(E,{}),Object(g.jsx)("main",{className:D.a.main,children:e.children})]})},R=n(16),A=n.n(R),q=n(28),F=n.n(q),J=function(e){return Object(g.jsx)("div",{className:F.a.backdrop,onClick:e.onClick})},z=function(e){return Object(g.jsx)("div",{className:F.a.modal,children:Object(g.jsx)("div",{className:F.a.content,children:e.children})})},K=document.getElementById("overlays"),U=function(e){return Object(g.jsxs)(m.a.Fragment,{children:[A.a.createPortal(Object(g.jsx)(J,{onClick:e.onClick}),K),A.a.createPortal(Object(g.jsx)(z,{children:e.children}),K)]})},Z=n(29),G=n.n(Z),X=function(e){var t=Object(o.c)((function(e){return e.list.deleteHotelName})),n=Object(f.a)(_.a),c=n.sendRequest,a=n.status,i=Object(o.b)();Object(j.useEffect)((function(){if("completed"===a){i(l.b.removeHotelFromList(t));var n=setTimeout((function(){e.setModalIsShown(!1)}),500);return function(){clearTimeout(n)}}}),[a,t,e.setModalIsShown]);var s=function(){c(t)},r=function(){e.setModalIsShown(!1)},u=Object(g.jsx)(O.a,{className:"deleteHotelBtn",type:"button",onClick:s,children:"OTEL\u0130 S\u0130L"});return"completed"===a&&(u=Object(g.jsx)(O.a,{className:"deleteHotelBtnConfirm",type:"button",onClick:s,children:"\u2713 S\u0130L\u0130ND\u0130"})),Object(g.jsxs)(U,{onClick:r,children:[Object(g.jsx)("div",{className:G.a.deleteModal,children:Object(g.jsxs)("div",{className:G.a.deleteModalMain,children:[Object(g.jsx)("h1",{children:"Oteli Sil"}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{children:t}),"'i silmek istedi\u011finizden emin misiniz?"]}),Object(g.jsxs)("div",{className:G.a.actionButtons,children:[u,Object(g.jsx)(O.a,{className:"cancelBtn",type:"button",onClick:r,children:"VAZGE\xc7"})]})]})}),Object(g.jsx)(O.a,{className:"quit",type:"button",onClick:r,children:"\u2715"})]})},V=m.a.lazy((function(){return n.e(3).then(n.bind(null,68))}));var W=function(){var e=Object(j.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(g.jsx)(P,{children:Object(g.jsx)(j.Suspense,{children:Object(g.jsxs)(b.e,{children:[Object(g.jsx)(b.c,{path:"/",exact:!0,children:Object(g.jsx)(b.b,{to:"/hotels-list"})}),n&&Object(g.jsx)(X,{modalIsShown:n,setModalIsShown:c}),Object(g.jsx)(b.c,{path:"/hotels-list",children:Object(g.jsx)(C,{onShowModal:function(){c(!0)}})}),Object(g.jsx)(b.c,{path:"/new-hotel",children:Object(g.jsx)(V,{})})]})})})};a.a.createRoot(document.getElementById("root")).render(Object(g.jsx)(i.a,{children:Object(g.jsx)(o.a,{store:u,children:Object(g.jsx)(W,{})})}))}],[[63,1,2]]]);
//# sourceMappingURL=main.203a7ddf.chunk.js.map